{
  "name": "pages-functions-with-wasm-demo",
  "version": "1.0.0",
  "description": "A demo app that exemplifies wasm module imports in Pages Functions",
  "scripts": {
    "dev": "nodemon --watch app-web/src --ext \"html,scss,js,mjs,ts,json\" -x \"yarn web && cp -r ./app-rust/pkg/ ./public/dist && npx wrangler pages dev public/dist \"",
    "web": "rm -rf .parcel-cache dist public/dist && parcel build  'app-web/src/proxy/*.html' --dist-dir public/dist/proxy &&parcel build 'app-web/src/*.html' 'app-web/src/login/*.html' 'app-web/src/logs/*.html' --dist-dir public/dist && cp ./app-web/src/proxy/mockServiceWorker.js public/dist/proxy/ && yarn quartz",
    "rust": "cd app-rust && mkdir -p ./pkg/ && rm -r ./pkg/ && wasm-pack build -d ./pkg/node && wasm-pack build --target web -d ./pkg/web && wasm-pack build --target no-modules -d ./pkg/no-modules && wasm-pack build  --target bundler -d ./pkg/bundler",
    "wasi": "cd wasi-rust &&cargo build --release --target wasm32-wasip1",
    "lint": "eslint .",
    "serve": "export ssl_certificate_key=cert/private.pem; export ssl_certificate=./cert/certificate.pem ;npx wrangler pages dev --local-protocol http --https-key-path $ssl_certificate_key --https-cert-path $ssl_certificate --port 8888 --ip 0.0.0.0",
    "deploy": "npx wrangler pages deploy && npx wrangler pages deployment tail --project-name pages-fns-with-wasm-demo",
    "generate-types": "wrangler types --path='./functions/types.d.ts'",
    "quartz": "if [ ! -d ./public/dist/quartz ] ; then mkdir -p ./public/dist/quartz ;fi;docker run --name quartz_builder -v /tmp/quartz:/tmp/quartz -v ./content:/tmp/content -v ./public/dist/quartz:/tmp/output -w /tmp/quartz --rm  node:22 bash -c 'npm install -g npm@11.2.0 && npm i && npx quartz build -d /tmp/content -o /tmp/output'; sudo chown -R $USER:$USER ./public/dist/quartz "
  },
  "devDependencies": {
    "@parcel/transformer-sass": "^2.14.4",
    "buffer": "^6.0.3",
    "eslint": "^9.25.1",
    "msw": "^2.7.6",
    "nodemon": "^3.1.10",
    "parcel": "^2.14.4",
    "process": "^0.11.10",
    "svgo": "^3.3.2",
    "typescript": "^4.9.5",
    "wrangler": "^4.14.0"
  },
  "dependencies": {
    "@cloudflare/workers-wasi": "^0.0.5",
    "cloudflare": "4.2.0",
    "sass": "^1.87.0"
  }
}
