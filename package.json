{
  "name": "pages-functions-with-wasm-demo",
  "version": "1.0.0",
  "description": "A demo app that exemplifies wasm module imports in Pages Functions",
  "scripts": {
    "dev": "nodemon --watch app-web/src --ext \"html,scss,js,mjs,ts,json\" -x \"yarn web && yarn quartz && cp -r ./app-rust/pkg/ ./public/dist && npx wrangler pages dev public/dist \"",
    "web": "rm -rf public/dist && parcel build app-web/src/*.html app-web/src/*/*.html --dist-dir public/dist",
    "rust": "cd app-rust && mkdir -p ./pkg/ && rm -r ./pkg/ && wasm-pack build -d ./pkg/node && wasm-pack build --target web -d ./pkg/web && wasm-pack build --target no-modules -d ./pkg/no-modules && wasm-pack build  --target bundler -d ./pkg/bundler",
    "wasi": "cd wasi-test-rust &&cargo build --release --target wasm32-wasip1",
    "lint": "eslint .",
    "serve": "export ssl_certificate_key=cert/private.pem; export ssl_certificate=./cert/certificate.pem ;npx wrangler pages dev --local-protocol http --https-key-path $ssl_certificate_key --https-cert-path $ssl_certificate --port 8888 --ip 0.0.0.0",
    "publish:to-pages": "yarn web && npx wrangler pages publish public/dist",
    "generate-types": "wrangler types --path='./functions/types.d.ts'",
    "quartz": "if [ ! -d ./public/dist/quartz ] ; then mkdir -p ./public/dist/quartz ;fi;docker run --name quartz_builder -v /tmp/quartz:/tmp/quartz -v ./content:/tmp/content -v ./public/dist/quartz:/tmp/output -w /tmp/quartz --rm  node:22 bash -c 'npm install -g npm@11.2.0 && npm i && npx quartz build -d /tmp/content -o /tmp/output'; sudo chown -R $USER:$USER ./public/dist/quartz "
  },
  "devDependencies": {
    "@parcel/transformer-sass": "2.8.3",
    "buffer": "^6.0.3",
    "eslint": "^9.25.1",
    "nodemon": "^3.1.10",
    "parcel": "2.8.3",
    "process": "^0.11.10",
    "typescript": "^4.9.5",
    "wrangler": "^4.14.0"
  },
  "dependencies": {
    "@cloudflare/workers-wasi": "^0.0.5",
    "globe.gl": "^2.27.1",
    "cloudflare":"4.2.0"
  }
}
